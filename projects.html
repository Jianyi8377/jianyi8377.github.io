---
layout: default
title: 项目分享
---

<style>
  /* --- 基础与重置样式 --- */
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    margin: 0;
    padding: 20px 0;
    color: #333;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    min-height: 100vh;
    opacity: 1 !important; /* 强制立即显示 */
  }

  /* --- 视频背景样式 --- */
  #bg-video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    z-index: -1;
    pointer-events: none;
    opacity: 0; /* 初始透明 */
    transition: opacity 1s ease-in-out;
  }

  /* 优化占位背景 */
  .video-placeholder {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -2;
    background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    opacity: 1;
    transition: opacity 0.5s ease;
  }

  @keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* --- 返回首页按钮 --- */
  .back-to-home {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1000;
  }

  .home-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 18px;
    background: rgba(255, 255, 255, 0.95);
    border: 2px solid transparent;
    border-radius: 25px;
    color: #0f3460;
    font-size: 16px;
    font-weight: 600;
    text-decoration: none;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    transition: all 0.3s;
    cursor: pointer;
  }

  .home-btn:hover {
    background: white;
    transform: translateX(-5px);
    border-color: #0f3460;
    box-shadow: 0 6px 20px rgba(15, 52, 96, 0.3);
  }

  /* --- 内容容器样式 --- */
  .container {
    max-width: 800px;
    width: 90%;
    margin: 20px auto;
    padding: 30px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    animation: containerFadeIn 0.8s ease-out;
  }

  @keyframes containerFadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* --- 标题样式（简化动画，提升性能）--- */
  h1 {
    color: transparent;
    text-align: center;
    margin-bottom: 30px;
    font-size: 2.5em;
    font-weight: 900;
    font-family: 'Exo 2', 'Microsoft YaHei', sans-serif;
    
    /* 简化渐变效果 */
    background: linear-gradient(
      90deg,
      #ff00ff,
      #00ffff,
      #ffff00,
      #00ff00,
      #ff00ff
    );
    -webkit-background-clip: text;
    background-clip: text;
    background-size: 300% 100%;
    
    /* 简化阴影 */
    text-shadow: 
      0 2px 4px rgba(0,0,0,0.3),
      0 4px 8px rgba(0,0,0,0.2);
    
    animation: colorShift 6s linear infinite;
  }

  @keyframes colorShift {
    0% { 
      background-position: 0% 50%;
      filter: hue-rotate(0deg);
    }
    50% {
      background-position: 100% 50%;
    }
    100% { 
      background-position: 0% 50%;
      filter: hue-rotate(360deg);
    }
  }

  h2 {
    color: #34495e;
    border-left: 4px solid #3498db;
    padding-left: 15px;
    margin-top: 30px;
    margin-bottom: 15px;
    font-size: 1.5em;
  }

  /* --- 分割线样式 --- */
  hr {
    border: none;
    height: 1px;
    background: linear-gradient(to right, transparent, #ccc, transparent);
    margin: 25px 0;
  }

  /* --- 文章列表样式 --- */
  .post-list {
    list-style: none;
    padding-left: 0;
  }

  .post-list li {
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
    display: flex;
    flex-direction: column;
  }

  .post-list a {
    font-size: 1.1em;
    color: #2980b9;
    text-decoration: none;
    font-weight: 500;
    margin-bottom: 5px;
  }

  .post-list a:hover {
    color: #e74c3c;
    text-decoration: underline;
  }

  .post-list small {
    color: #7f8c8d;
    font-size: 0.9em;
  }

  /* --- 响应式设计 --- */
  @media (max-width: 768px) {
    body {
      padding: 10px 0;
    }

    .container {
      padding: 20px 15px;
      width: 95%;
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
    }

    h1 {
      font-size: 1.8em;
      animation: colorShift 8s linear infinite; /* 移动端动画更慢 */
    }

    h2 {
      font-size: 1.3em;
    }

    .back-to-home {
      top: 10px;
      left: 10px;
    }

    .home-btn {
      padding: 8px 14px;
      font-size: 14px;
    }
  }
</style>

<!-- 视频占位背景（立即显示） -->
<div class="video-placeholder" id="video-placeholder"></div>

<!-- 视频容器（空标签，稍后加载） -->
<video id="bg-video" 
       muted 
       playsinline 
       preload="metadata"
       crossorigin="anonymous"
       loop>
  <!-- 视频源将通过JS动态加载 -->
</video>

<!-- 返回首页按钮 -->
<div class="back-to-home">
  <a href="/" class="home-btn">
    ← 返回首页
  </a>
</div>

<div class="container">
  <h1>今朝键指叠云处</h1>
  <hr>

  <!-- 只显示技术文章 -->
  <h2>最新创作</h2>
  <ul class="post-list">
    {% assign tech_posts = site.posts | where: "categories", "program" %}
    {% for post in tech_posts %}
      <li>
        <a href="{{ post.url }}">{{ post.title }}</a>
        <small>{{ post.date | date: "%Y-%m-%d" }}</small>
      </li>
    {% endfor %}
  </ul>
</div>

<script>
  // 关键优化：智能视频加载策略
  (function() {
    'use strict';
    
    const video = document.getElementById('bg-video');
    const placeholder = document.getElementById('video-placeholder');
    
    // 1. 立即显示页面内容
    document.body.style.opacity = '1';
    
    // 2. 检测网络状况
    const isSlowConnection = navigator.connection ? 
      (navigator.connection.saveData || 
       navigator.connection.effectiveType.includes('2g') ||
       navigator.connection.effectiveType.includes('3g')) : false;
    
    // 3. 智能视频加载函数
    function loadVideoBackground() {
      // 如果是慢速网络，不加载视频
      if (isSlowConnection) {
        console.log('慢速网络，跳过视频加载');
        if (placeholder) placeholder.style.opacity = '1';
        return;
      }
      
      // 根据设备选择视频源
      const isMobile = window.innerWidth <= 768;
      const videoSource = document.createElement('source');
      
      // 设置视频源
      videoSource.src = isMobile ? "./videos/5.mp4" : "./videos/2.mp4";
      videoSource.type = "video/mp4";
      
      // 清空现有source，添加新的
      while (video.firstChild) {
        video.removeChild(video.firstChild);
      }
      video.appendChild(videoSource);
      
      // 加载视频
      video.load();
      
      // 监听视频加载进度
      let loaded = false;
      const loadTimeout = setTimeout(() => {
        if (!loaded) {
          console.log('视频加载超时，使用背景渐变');
          if (placeholder) placeholder.style.opacity = '1';
        }
      }, 3000); // 3秒超时
      
      // 视频加载成功
      video.addEventListener('loadeddata', function() {
        loaded = true;
        clearTimeout(loadTimeout);
        
        // 尝试播放视频
        const playPromise = video.play();
        
        if (playPromise !== undefined) {
          playPromise
            .then(() => {
              console.log('视频播放成功');
              video.style.opacity = '1';
              // 淡出占位背景
              if (placeholder) {
                setTimeout(() => {
                  placeholder.style.opacity = '0';
                }, 500);
              }
            })
            .catch(error => {
              console.log('自动播放失败:', error);
              // 保持占位背景显示
              if (placeholder) placeholder.style.opacity = '1';
            });
        }
      });
      
      // 视频加载错误
      video.addEventListener('error', function(e) {
        console.error('视频加载错误:', e);
        loaded = true;
        clearTimeout(loadTimeout);
        if (placeholder) placeholder.style.opacity = '1';
      });
    }
    
    // 4. 延迟加载视频（让页面内容先显示）
    // 如果是移动端，延迟更久
    const delay = window.innerWidth <= 768 ? 1500 : 800;
    
    setTimeout(() => {
      // 如果页面还在加载中，等待
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadVideoBackground);
      } else {
        loadVideoBackground();
      }
    }, delay);
    
    // 5. 监听窗口大小变化
    let resizeTimeout;
    window.addEventListener('resize', function() {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        // 如果视频已经加载，重新加载适合当前设备的视频
        if (video.src) {
          loadVideoBackground();
        }
      }, 500);
    });
    
    // 6. 页面可见性处理
    document.addEventListener('visibilitychange', function() {
      if (!document.hidden && video.src) {
        video.play().catch(console.log);
      }
    });
    
  })();
</script>